[gd_scene load_steps=51 format=3 uid="uid://dx1tnc53ewise"]

[ext_resource type="Script" path="res://scripts/Game.gd" id="1_5ngek"]
[ext_resource type="Texture2D" uid="uid://cjece03v6q7vt" path="res://assets/Urban-landscape-files/Urban-landscape-files/layers/Sky-layer.png" id="1_r76ha"]
[ext_resource type="Texture2D" uid="uid://dypsgs2exme7b" path="res://assets/Urban-landscape-files/Urban-landscape-files/layers/buildings-layer.png" id="2_1lsas"]
[ext_resource type="Resource" uid="uid://c6s7w1ydn0sxm" path="res://resources/pistol.tres" id="2_7ylki"]
[ext_resource type="Script" path="res://scripts/camera.gd" id="2_u603l"]
[ext_resource type="AudioStream" uid="uid://hs8a6va5r21o" path="res://assets/assorted sounds/pistol-168180.mp3" id="3_cni2f"]
[ext_resource type="Script" path="res://scripts/Santa.gd" id="3_taptd"]
[ext_resource type="AudioStream" uid="uid://de5hyw00oqi2k" path="res://assets/assorted sounds/gun-dry-firing-7-39792.mp3" id="4_6dnye"]
[ext_resource type="AudioStream" uid="uid://dc0f2wlw8djrx" path="res://assets/assorted sounds/cannon-fire-161072.mp3" id="5_hgy47"]
[ext_resource type="AudioStream" uid="uid://ce0qtxcwr73n5" path="res://assets/Deadly Kombat Sounds Free/santa bounce/body_hit_finisher_23.wav" id="7_kuqnd"]
[ext_resource type="AudioStream" uid="uid://ceanwja4va4ec" path="res://assets/Deadly Kombat Sounds Free/santa bounce/body_hit_finisher_27.wav" id="8_aqwoo"]
[ext_resource type="Texture2D" uid="uid://b0r82vto66hg3" path="res://assets/drawings/santa_jolly.png" id="8_c6735"]
[ext_resource type="AudioStream" uid="uid://dgjbiv5lr848i" path="res://assets/Deadly Kombat Sounds Free/santa bounce/face_hit_Large_29.wav" id="9_gme15"]
[ext_resource type="AudioStream" uid="uid://b3j8y4nu2jdw1" path="res://assets/Deadly Kombat Sounds Free/santa bounce/body_hit_large_32.wav" id="10_ha40h"]
[ext_resource type="AudioStream" uid="uid://c8167vs28v4e5" path="res://assets/Deadly Kombat Sounds Free/santa bounce/body_hit_large_76.wav" id="11_6axrm"]
[ext_resource type="AudioStream" uid="uid://gu6evos3m6t5" path="res://assets/Deadly Kombat Sounds Free/santa bounce/body_hit_small_23.wav" id="12_706ax"]
[ext_resource type="AudioStream" uid="uid://b0imr5hy3olxc" path="res://assets/Deadly Kombat Sounds Free/santa bounce/bone_breaking_53.wav" id="13_or6mn"]
[ext_resource type="AudioStream" uid="uid://bjefgfxyb01mr" path="res://assets/Deadly Kombat Sounds Free/santa bounce/face_hit_finisher_19.wav" id="14_n202j"]
[ext_resource type="AudioStream" uid="uid://fkif58rbl46s" path="res://assets/Deadly Kombat Sounds Free/santa bounce/face_hit_finisher_40.wav" id="15_o26fd"]
[ext_resource type="AudioStream" uid="uid://prwrw48kddfy" path="res://assets/Deadly Kombat Sounds Free/santa bounce/face_hit_finisher_73.wav" id="16_ve86m"]
[ext_resource type="AudioStream" uid="uid://x8o2aoditdbn" path="res://assets/Deadly Kombat Sounds Free/santa bounce/face_hit_Large_20.wav" id="17_b4k3q"]
[ext_resource type="Texture2D" uid="uid://c0wm218elkg6q" path="res://assets/drawings/santa1.png" id="20_428lv"]
[ext_resource type="Texture2D" uid="uid://br40o4ms6f8bj" path="res://assets/drawings/santa2.png" id="21_g6b0j"]
[ext_resource type="Script" path="res://scripts/Floor.gd" id="21_tdtfx"]
[ext_resource type="Texture2D" uid="uid://b466bl1e847vw" path="res://assets/drawings/santa_dance.png" id="22_hxpgn"]
[ext_resource type="PackedScene" uid="uid://b4q2x3jtkrvtf" path="res://scenes/PowerMeter.tscn" id="23_0vbp8"]
[ext_resource type="Texture2D" uid="uid://bx11rmqrdyhds" path="res://assets/drawings/santa_falling.png" id="23_cstpd"]
[ext_resource type="Texture2D" uid="uid://bppcpta4j0foy" path="res://assets/drawings/santa_sploded.png" id="24_5p0fm"]
[ext_resource type="Texture2D" uid="uid://xqi2d58x7g4i" path="res://assets/drawings/santa_stoned.png" id="25_fbsa4"]
[ext_resource type="AudioStream" uid="uid://oj3xytdhoesb" path="res://assets/Berool - The Dark Side Of Santa Claus/Berool - The Dark Side Of Santa Claus - 01 The Dark Side Of Santa Claus.mp3" id="25_wc3pf"]
[ext_resource type="Texture2D" uid="uid://ckcpviooorwgq" path="res://assets/drawings/santa_surprised.png" id="26_58y2c"]
[ext_resource type="Texture2D" uid="uid://dtl86h7fpqe5m" path="res://assets/drawings/santa_walk_a.png" id="27_15yc3"]
[ext_resource type="Texture2D" uid="uid://c8wv044y8oicd" path="res://assets/drawings/cannon_body.png" id="30_buchy"]
[ext_resource type="Script" path="res://scripts/Cannon.gd" id="31_4l1nm"]
[ext_resource type="Texture2D" uid="uid://o0t4a6ardnv2" path="res://assets/drawings/cannon_stand.png" id="32_lw2j6"]
[ext_resource type="Theme" uid="uid://4rvhcv1yh0s0" path="res://ui_theme.tres" id="34_088p0"]
[ext_resource type="Texture2D" uid="uid://b3kcc150g15yk" path="res://assets/drawings/shop_mini.png" id="34_hw2sp"]
[ext_resource type="Script" path="res://scripts/Spawner.gd" id="37_j2wkx"]
[ext_resource type="PackedScene" uid="uid://bobiootb2bv85" path="res://scenes/House.tscn" id="38_4svqw"]
[ext_resource type="Script" path="res://scripts/Spawnable.gd" id="39_fub67"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_d42wo"]
friction = 0.26
bounce = 0.8

[sub_resource type="CircleShape2D" id="CircleShape2D_8tdpr"]
radius = 56.2228

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_kte0o"]
streams_count = 11
stream_0/stream = ExtResource("7_kuqnd")
stream_0/weight = 1.0
stream_1/stream = ExtResource("8_aqwoo")
stream_1/weight = 1.0
stream_2/stream = ExtResource("10_ha40h")
stream_2/weight = 1.0
stream_3/stream = ExtResource("11_6axrm")
stream_3/weight = 1.0
stream_4/stream = ExtResource("12_706ax")
stream_4/weight = 1.0
stream_5/stream = ExtResource("13_or6mn")
stream_5/weight = 1.0
stream_6/stream = ExtResource("14_n202j")
stream_6/weight = 1.0
stream_7/stream = ExtResource("15_o26fd")
stream_7/weight = 1.0
stream_8/stream = ExtResource("16_ve86m")
stream_8/weight = 1.0
stream_9/stream = ExtResource("17_b4k3q")
stream_9/weight = 1.0
stream_10/stream = ExtResource("9_gme15")
stream_10/weight = 1.0

[sub_resource type="Curve" id="Curve_8sux7"]
bake_resolution = 256
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(1, 1), 2.64842, 0.0, 0, 0]
point_count = 2

[sub_resource type="LabelSettings" id="LabelSettings_28l1g"]
font_size = 14
font_color = Color(0.203922, 0.203922, 0.203922, 1)

[sub_resource type="Resource" id="Resource_qcrue"]
script = ExtResource("39_fub67")
grounded = true
scene = ExtResource("38_4svqw")

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_inf05"]
normal = Vector2(0, 1)

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_wlqrb"]

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_1colw"]
resource_local_to_scene = true

[sub_resource type="LabelSettings" id="LabelSettings_0hpjv"]
font_size = 30
font_color = Color(0, 0.717647, 0, 1)
shadow_size = 3
shadow_color = Color(0, 0, 0, 0.329412)

[node name="Game" type="Node2D"]
position = Vector2(225, 158)
script = ExtResource("1_5ngek")
weapons = Array[Resource("res://scripts/Weapon.gd")]([ExtResource("2_7ylki")])

[node name="ParallaxBackground" type="ParallaxBackground" parent="."]

[node name="Sky" type="ParallaxLayer" parent="ParallaxBackground"]
position = Vector2(225, 158)
motion_scale = Vector2(0.5, 0.5)
motion_mirroring = Vector2(336, 596)

[node name="Sky-layer" type="Sprite2D" parent="ParallaxBackground/Sky"]
scale = Vector2(3, 3)
texture = ExtResource("1_r76ha")
centered = false
metadata/_edit_group_ = true

[node name="Sky-layer2" type="Sprite2D" parent="ParallaxBackground/Sky/Sky-layer"]
position = Vector2(112, 0)
texture = ExtResource("1_r76ha")
centered = false

[node name="Sky-layer2" type="Sprite2D" parent="ParallaxBackground/Sky/Sky-layer/Sky-layer2"]
position = Vector2(112, 0)
texture = ExtResource("1_r76ha")
centered = false

[node name="Sky-layer2" type="Sprite2D" parent="ParallaxBackground/Sky/Sky-layer/Sky-layer2/Sky-layer2"]
position = Vector2(112, 0)
texture = ExtResource("1_r76ha")
centered = false

[node name="Sky-layer" type="Sprite2D" parent="ParallaxBackground/Sky/Sky-layer"]
position = Vector2(448, 273.667)
scale = Vector2(-1, 1)
texture = ExtResource("1_r76ha")
centered = false
metadata/_edit_group_ = true

[node name="Sky-layer2" type="Sprite2D" parent="ParallaxBackground/Sky/Sky-layer/Sky-layer"]
position = Vector2(112, 0)
texture = ExtResource("1_r76ha")
centered = false

[node name="Sky-layer2" type="Sprite2D" parent="ParallaxBackground/Sky/Sky-layer/Sky-layer/Sky-layer2"]
position = Vector2(112, 0)
texture = ExtResource("1_r76ha")
centered = false

[node name="Sky-layer2" type="Sprite2D" parent="ParallaxBackground/Sky/Sky-layer/Sky-layer/Sky-layer2/Sky-layer2"]
position = Vector2(112, 0)
texture = ExtResource("1_r76ha")
centered = false

[node name="ParallaxLayer2" type="ParallaxLayer" parent="ParallaxBackground"]
position = Vector2(552, 156)
motion_scale = Vector2(0.5, 0.5)

[node name="Buildings-layer" type="Sprite2D" parent="ParallaxBackground/ParallaxLayer2"]
scale = Vector2(2, 2)
texture = ExtResource("2_1lsas")
centered = false

[node name="Music" type="AudioStreamPlayer" parent="."]
unique_name_in_owner = true
stream = ExtResource("25_wc3pf")
volume_db = -3.0
pitch_scale = 0.69
autoplay = true

[node name="PistolSound" type="AudioStreamPlayer" parent="."]
unique_name_in_owner = true
stream = ExtResource("3_cni2f")
volume_db = -3.611
max_polyphony = 2

[node name="DryFire" type="AudioStreamPlayer" parent="."]
unique_name_in_owner = true
stream = ExtResource("4_6dnye")
volume_db = 5.056

[node name="CannonSound" type="AudioStreamPlayer" parent="."]
stream = ExtResource("5_hgy47")

[node name="Santa" type="RigidBody2D" parent="."]
unique_name_in_owner = true
modulate = Color(0.705882, 0.00392157, 0, 1)
position = Vector2(650, 286)
rotation = 0.603884
scale = Vector2(1, 1)
mass = 200.0
physics_material_override = SubResource("PhysicsMaterial_d42wo")
continuous_cd = 2
max_contacts_reported = 1
contact_monitor = true
freeze = true
linear_damp = 0.01
script = ExtResource("3_taptd")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Santa"]
shape = SubResource("CircleShape2D_8tdpr")
debug_color = Color(0.992157, 0.0745098, 0, 0.419608)

[node name="BounceSound" type="AudioStreamPlayer" parent="Santa"]
stream = SubResource("AudioStreamRandomizer_kte0o")
volume_db = 5.0
max_polyphony = 2

[node name="Sprites" type="Node2D" parent="Santa"]
rotation = 0.00349066
scale = Vector2(1.2, 1.2)

[node name="Sprite2D" type="Sprite2D" parent="Santa/Sprites"]
rotation = 0.735312
scale = Vector2(0.151351, 0.151351)
texture = ExtResource("8_c6735")

[node name="Santa1" type="Sprite2D" parent="Santa/Sprites"]
visible = false
scale = Vector2(0.15, 0.15)
texture = ExtResource("20_428lv")

[node name="Santa2" type="Sprite2D" parent="Santa/Sprites"]
visible = false
scale = Vector2(0.15, 0.15)
texture = ExtResource("21_g6b0j")

[node name="SantaDance" type="Sprite2D" parent="Santa/Sprites"]
visible = false
scale = Vector2(0.15, 0.15)
texture = ExtResource("22_hxpgn")

[node name="SantaFalling" type="Sprite2D" parent="Santa/Sprites"]
visible = false
scale = Vector2(0.15, 0.15)
texture = ExtResource("23_cstpd")

[node name="SantaSploded" type="Sprite2D" parent="Santa/Sprites"]
visible = false
scale = Vector2(0.15, 0.15)
texture = ExtResource("24_5p0fm")

[node name="SantaStoned" type="Sprite2D" parent="Santa/Sprites"]
visible = false
scale = Vector2(0.15, 0.15)
texture = ExtResource("25_fbsa4")

[node name="SantaSurprised" type="Sprite2D" parent="Santa/Sprites"]
visible = false
scale = Vector2(0.169803, 0.169803)
texture = ExtResource("26_58y2c")

[node name="SantaWalkA" type="Sprite2D" parent="Santa/Sprites"]
visible = false
scale = Vector2(0.15, 0.15)
texture = ExtResource("27_15yc3")

[node name="Cannon" type="Sprite2D" parent="."]
unique_name_in_owner = true
position = Vector2(275.781, 353.336)
rotation = -0.00349066
scale = Vector2(0.205169, 0.205169)
texture = ExtResource("30_buchy")
offset = Vector2(300, 300)
script = ExtResource("31_4l1nm")
curve = SubResource("Curve_8sux7")

[node name="TempGraphic" type="ColorRect" parent="Cannon"]
visible = false
custom_minimum_size = Vector2(400, 100)
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = 300.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.129412, 0.129412, 0.129412, 1)

[node name="CannonMouth" type="RemoteTransform2D" parent="Cannon"]
unique_name_in_owner = true
position = Vector2(1825.09, -321.828)
rotation = 0.607375
remote_path = NodePath("../../Santa")
update_scale = false

[node name="CannonStand" type="Sprite2D" parent="."]
position = Vector2(253.781, 187.336)
scale = Vector2(0.236994, 0.236994)
texture = ExtResource("32_lw2j6")

[node name="PowerMeter" parent="." instance=ExtResource("23_0vbp8")]
offset_left = 804.0
offset_top = 275.0
offset_right = 899.0
offset_bottom = 475.0

[node name="ShopMini" type="Sprite2D" parent="."]
position = Vector2(-69, 273)
scale = Vector2(0.229928, 0.229928)
texture = ExtResource("34_hw2sp")

[node name="ShopLabel" type="Label" parent="."]
offset_left = -125.0
offset_top = 244.0
offset_right = -51.0
offset_bottom = 316.0
theme = ExtResource("34_088p0")
text = "GUNS
GUNS
GUNS
"
label_settings = SubResource("LabelSettings_28l1g")

[node name="Camera2D" type="Camera2D" parent="."]
unique_name_in_owner = true
position = Vector2(340, 167)
limit_left = -1316134912
limit_top = -1316134912
limit_right = 1316134912
limit_bottom = 1316134912
script = ExtResource("2_u603l")

[node name="Spawner" type="Marker2D" parent="Camera2D"]
position = Vector2(3606, -88)
script = ExtResource("37_j2wkx")
thingies = Array[ExtResource("39_fub67")]([SubResource("Resource_qcrue")])

[node name="LeftWall" type="StaticBody2D" parent="."]
position = Vector2(-264, 353)
rotation = -1.5708

[node name="CollisionShape2D" type="CollisionShape2D" parent="LeftWall"]
shape = SubResource("WorldBoundaryShape2D_inf05")

[node name="Floor" type="StaticBody2D" parent="."]
unique_name_in_owner = true
position = Vector2(-176, 434)
physics_material_override = SubResource("PhysicsMaterial_wlqrb")
script = ExtResource("21_tdtfx")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Floor"]
shape = SubResource("WorldBoundaryShape2D_1colw")
one_way_collision = true
one_way_collision_margin = 128.0

[node name="EndScreen" type="CanvasLayer" parent="."]

[node name="CenterContainer" type="CenterContainer" parent="EndScreen"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("34_088p0")

[node name="MetersLabel" type="Label" parent="EndScreen/CenterContainer"]
unique_name_in_owner = true
modulate = Color(1, 1, 1, 0)
layout_mode = 2
label_settings = SubResource("LabelSettings_0hpjv")

[connection signal="body_shape_entered" from="Santa" to="Santa" method="_on_body_shape_entered"]
[connection signal="landed" from="Santa" to="." method="_on_santa_landed"]
[connection signal="shot" from="Santa" to="." method="_on_santa_shot"]
[connection signal="sleeping_state_changed" from="Santa" to="Santa" method="_on_sleeping_state_changed"]
[connection signal="power_level_changed" from="Cannon" to="PowerMeter" method="set_power_level"]
